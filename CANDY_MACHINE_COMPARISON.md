# Candy Machine Implementation Comparison

## üìä –¢–µ–∫—É—â–∏–π –ø—Ä–æ–µ–∫—Ç (etcha) vs etcha-candy —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

### üîç –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫

#### –¢–µ–∫—É—â–∏–π –ø—Ä–æ–µ–∫—Ç (etcha):

```json
{
  "@metaplex-foundation/mpl-candy-machine": "^6.1.0",
  "@metaplex-foundation/umi": "^1.4.1",
  "@metaplex-foundation/umi-bundle-defaults": "^1.4.1",
  "@metaplex-foundation/umi-signer-wallet-adapters": "^1.4.1",
  "@metaplex-foundation/umi-uploader-irys": "^1.4.1",
  "@metaplex-foundation/mpl-token-metadata": "^3.4.0",
  "@metaplex-foundation/mpl-auction-house": "^2.5.1",
  "@metaplex-foundation/js": "^0.20.1"  // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö (page.tsx)
}
```

#### –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π etcha-candy:

–ù–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ –∏–∑ –≤–µ–±-–ø–æ–∏—Å–∫–∞ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç **Candy Machine V3**
- –°–æ–∑–¥–∞–µ—Ç **Collection NFT** –∏ **Candy Machine**
- –¢–æ—á–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫ —Ç—Ä–µ–±—É—é—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ `package.json` –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è

### –¢–µ–∫—É—â–∏–π –ø—Ä–æ–µ–∫—Ç (etcha) - UMI Framework

**–ü–æ–¥—Ö–æ–¥:**
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç **UMI Framework** (`@metaplex-foundation/umi`) - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `mpl-candy-machine` v6.1.0 (–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã Metaplex)
- ‚úÖ –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å —Å–µ—Ä–≤–∏—Å–∞–º–∏:
  - `CandyMachineService.ts` - —Å–æ–∑–¥–∞–Ω–∏–µ CM —á–µ—Ä–µ–∑ UMI
  - `candy-machine-client.ts` - –∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è –ª–æ–≥–∏–∫–∞ –º–∏–Ω—Ç–∞
- ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ Candy Machine –∏ Candy Guard (–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è V3 –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ë–æ–ª–µ–µ –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è —Ä–∞–±–æ—Ç–∞ —Å –ø—Ä–æ–≥—Ä–∞–º–º–∞–º–∏ Solana
- –õ—É—á—à–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ UMI
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –≤–µ—Ä—Å–∏–π Candy Machine V3
- –ë–æ–ª–µ–µ –≥–∏–±–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏

**–ö–æ–¥ –∏–∑ `CandyMachineService.ts`:**
```typescript
import { createUmi } from '@metaplex-foundation/umi-bundle-defaults'
import {
    create as createCandyMachine,
    createCandyGuard,
    wrap,
    mintV2,
    fetchCandyMachine,
    fetchCandyGuard,
    mplCandyMachine,
} from '@metaplex-foundation/mpl-candy-machine'
```

### –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π etcha-candy - –≤–µ—Ä–æ—è—Ç–Ω–æ —Å—Ç–∞—Ä—ã–π SDK

**–ü–æ–¥—Ö–æ–¥ (–∏–∑ –≤–µ–±-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏):**
- –í–æ–∑–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `@metaplex-foundation/js` SDK (–±–æ–ª–µ–µ –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π)
- –ú–æ–∂–µ—Ç –±—ã—Ç—å –±–æ–ª–µ–µ —Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è Candy Machine
- API –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–ª–ª–µ–∫—Ü–∏–π —á–µ—Ä–µ–∑ `/api/collections`

**–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –Ω–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:**
- –ú–µ–Ω–µ–µ –≥–∏–±–∫–∏–π API
- –í–æ–∑–º–æ–∂–Ω–æ —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –≤–µ—Ä—Å–∏–∏
- –ú–µ–Ω—å—à–µ –∫–æ–Ω—Ç—Ä–æ–ª—è –Ω–∞–¥ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è–º–∏

---

## üîß –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ Candy Machine

#### –¢–µ–∫—É—â–∏–π –ø—Ä–æ–µ–∫—Ç (etcha):
```typescript
// 1. –°–æ–∑–¥–∞–Ω–∏–µ Candy Machine (–±–µ–∑ guards)
const createTx = await createCandyMachine(umi, {
    candyMachine,
    collectionMint: umiPublicKey(params.collectionAddress),
    itemsAvailable: BigInt(params.itemsAvailable),
    // ... –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
})

// 2. –°–æ–∑–¥–∞–Ω–∏–µ Candy Guard (–æ—Ç–¥–µ–ª—å–Ω–æ)
const guardTx = await createCandyGuard(umi, {
    base: candyMachine,
    guards: {
        solPayment: some({
            lamports: sol(params.priceInSol),
            destination: umiPublicKey(params.platformWallet),
        }),
    },
})

// 3. Wrapping Candy Machine —Å Guard
const wrapTx = await wrap(umi, {
    candyMachine: candyMachine.publicKey,
    candyGuard: candyGuardPda,
})
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ CM –∏ Guard (V3 –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
- ‚úÖ –¢—Ä–∏ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (create ‚Üí guard ‚Üí wrap)
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ guards (solPayment, botTax, startDate –∏ —Ç.–¥.)
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å mintAuthority

#### –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π etcha-candy:
- –°–æ–∑–¥–∞–Ω–∏–µ —á–µ—Ä–µ–∑ `/api/collections` endpoint
- –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ Solana Explorer
- –°–æ–∑–¥–∞–Ω–∏–µ Collection NFT –∏ Candy Machine –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

---

### –ú–∏–Ω—Ç NFT

#### –¢–µ–∫—É—â–∏–π –ø—Ä–æ–µ–∫—Ç (etcha):
```typescript
// –ß–µ—Ä–µ–∑ UMI —Å wallet adapter
const mintTx = mintV2(umi, {
    candyMachine: candyMachine.publicKey,
    nftMint,
    collectionMint: candyMachine.collectionMint,
    collectionUpdateAuthority: candyMachine.authority,
    candyGuard: candyMachine.mintAuthority,  // –í–∞–∂–Ω–æ!
    mintArgs: {
        solPayment: { destination },
    },
})
```

**–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- ‚úÖ –ú–∏–Ω—Ç —á–µ—Ä–µ–∑ Candy Guard —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ mintArgs
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ wallet adapter –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–Ω—ã—Ö –∫–æ—à–µ–ª—å–∫–æ–≤
- ‚úÖ –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –º–∏–Ω—Ç –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö NFT

---

## üì¶ –í–µ—Ä—Å–∏–∏ –ø–∞–∫–µ—Ç–æ–≤ - –¥–µ—Ç–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ

### Metaplex Foundation –ø–∞–∫–µ—Ç—ã

| –ü–∞–∫–µ—Ç | –¢–µ–∫—É—â–∏–π –ø—Ä–æ–µ–∫—Ç | etcha-candy (–ø—Ä–µ–¥–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ) |
|-------|---------------|-------------------------------|
| `@metaplex-foundation/mpl-candy-machine` | **^6.1.0** | –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ |
| `@metaplex-foundation/umi` | **^1.4.1** | –í–æ–∑–º–æ–∂–Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è |
| `@metaplex-foundation/js` | **^0.20.1** (—á–∞—Å—Ç–∏—á–Ω–æ) | –í–æ–∑–º–æ–∂–Ω–æ –æ—Å–Ω–æ–≤–Ω–æ–π SDK |
| `@metaplex-foundation/mpl-token-metadata` | **^3.4.0** | –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ |

### –í–∞–∂–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è:

1. **UMI Framework vs JS SDK:**
   - **etcha (—Ç–µ–∫—É—â–∏–π)**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç UMI - –±–æ–ª–µ–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π, –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –ø–æ–¥—Ö–æ–¥
   - **etcha-candy**: –í–æ–∑–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç JS SDK - –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π, –Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–º

2. **Candy Machine –≤–µ—Ä—Å–∏—è:**
   - –û–±–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç **Candy Machine V3** (—Å—É–¥—è –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è CM/Guard)
   - –ù–æ –≤–µ—Ä—Å–∏–∏ –ø–∞–∫–µ—Ç–æ–≤ –º–æ–≥—É—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è

---

## ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å etcha-candy:

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏–∏ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ etcha-candy:**
   ```bash
   # –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å package.json
   ```

2. **–ï—Å–ª–∏ etcha-candy –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞—Ä—ã–µ –≤–µ—Ä—Å–∏–∏:**
   - –¢–µ–∫—É—â–∏–π –ø—Ä–æ–µ–∫—Ç (etcha) –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–æ–ª–µ–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏
   - **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ—Å—Ç–∞—Ç—å—Å—è –Ω–∞ —Ç–µ–∫—É—â–∏—Ö –≤–µ—Ä—Å–∏—è—Ö** –¥–ª—è –ª—É—á—à–µ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏

3. **–ï—Å–ª–∏ –≤–µ—Ä—Å–∏–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç:**
   - –ú–æ–∂–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É –Ω–∞ —Ç–µ–∫—É—â–µ–º —Å—Ç–µ–∫–µ

### –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã:

- ‚úÖ **–¢–µ–∫—É—â–∏–π –ø—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é V3 –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É** (CM + Guard —Ä–∞–∑–¥–µ–ª—å–Ω–æ)
- ‚úÖ **UMI Framework** - —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ–¥—Ö–æ–¥ –æ—Ç Metaplex
- ‚ö†Ô∏è **@metaplex-foundation/js** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `page.tsx` - —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å —É–¥–∞–ª–µ–Ω–∏–µ –∏–ª–∏ –º–∏–≥—Ä–∞—Ü–∏—é –Ω–∞ UMI

---

## üîç –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ etcha-candy:

1. –§–∞–π–ª `package.json` - —Ç–æ—á–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
2. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–∏ UMI –∏–ª–∏ JS SDK
3. –í–µ—Ä—Å–∏—è Candy Machine (V2 –∏–ª–∏ V3)
4. –ü–æ–¥—Ö–æ–¥ –∫ —Å–æ–∑–¥–∞–Ω–∏—é guards
5. –ü–æ–¥—Ö–æ–¥ –∫ –º–∏–Ω—Ç—É NFT

---

## üìù –í—ã–≤–æ–¥—ã

### –¢–µ–∫—É—â–∏–π –ø—Ä–æ–µ–∫—Ç (etcha) - ‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç **UMI Framework** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π Metaplex)
- –í–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ (mpl-candy-machine v6.1.0)
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è V3 –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (CM + Guard —Ä–∞–∑–¥–µ–ª—å–Ω–æ)
- –•–æ—Ä–æ—à–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –∏ –º–æ–¥—É–ª—å–Ω–æ—Å—Ç—å

### –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:
- –£–±—Ä–∞—Ç—å `@metaplex-foundation/js` –∏–∑ `page.tsx` (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–µ–∞–∫—Ç—É–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥)
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –≤–µ—Ä—Å–∏–π UMI –ø–∞–∫–µ—Ç–æ–≤
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–Ω—É –≤–µ—Ä—Å–∏—é UMI (1.4.1)

---

## üö® –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ï—Å–ª–∏ etcha-candy –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥—Ä—É–≥—É—é –≤–µ—Ä—Å–∏—é:

1. **–ù–µ—Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π** - Candy Machines, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –≤ —Ä–∞–∑–Ω—ã—Ö –≤–µ—Ä—Å–∏—è—Ö, –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ-—Ä–∞–∑–Ω–æ–º—É
2. **–†–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã guards** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ guards –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è
3. **–†–∞–∑–Ω—ã–µ API** - UMI vs JS SDK –∏–º–µ—é—Ç —Ä–∞–∑–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã

### –†–µ—à–µ–Ω–∏–µ:
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–Ω—É –≤–µ—Ä—Å–∏—é –±–∏–±–ª–∏–æ—Ç–µ–∫ –≤ –æ–±–æ–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö
- –ò–ª–∏ —á–µ—Ç–∫–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å: –æ–¥–∏–Ω –ø—Ä–æ–µ–∫—Ç –¥–ª—è –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞ Candy Machines

---

## üìö –°—Å—ã–ª–∫–∏

- [Metaplex Candy Machine V3 Docs](https://developers.metaplex.com/candy-machine)
- [UMI Framework Docs](https://github.com/metaplex-foundation/umi)
- [mpl-candy-machine GitHub](https://github.com/metaplex-foundation/metaplex-program-library/tree/master/candy-machine)

